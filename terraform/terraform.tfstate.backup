{
  "version": 4,
  "terraform_version": "1.1.4",
  "serial": 156,
  "lineage": "d6748c08-32e5-8181-f61f-0974470bbf4f",
  "outputs": {
    "node_api_host": {
      "value": "metis-node-api.herokuapp.com",
      "type": "string"
    },
    "node_api_url": {
      "value": "https://metis-node-api.herokuapp.com/",
      "type": "string"
    },
    "redis_tls_url": {
      "value": "rediss://:p5f69d138dde19b1968eda34b05c63664debf6699436dbb8d268626f653c5c528@ec2-54-80-107-33.compute-1.amazonaws.com:8160",
      "type": "string",
      "sensitive": true
    },
    "redis_url": {
      "value": "redis://:p5f69d138dde19b1968eda34b05c63664debf6699436dbb8d268626f653c5c528@ec2-54-80-107-33.compute-1.amazonaws.com:8159",
      "type": "string",
      "sensitive": true
    },
    "s3_domain_name": {
      "value": "public-metis-static-content.s3.amazonaws.com",
      "type": "string"
    }
  },
  "resources": [
    {
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "allow_internet_access",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "2827388295",
            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"s3:GetObject\",\n      \"Resource\": [\n        \"arn:aws:s3:::public-metis-static-content/*\",\n        \"arn:aws:s3:::public-metis-static-content\"\n      ],\n      \"Principal\": {\n        \"AWS\": \"*\"\n      }\n    }\n  ]\n}",
            "override_json": null,
            "override_policy_documents": null,
            "policy_id": null,
            "source_json": null,
            "source_policy_documents": null,
            "statement": [
              {
                "actions": [
                  "s3:GetObject"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [
                  {
                    "identifiers": [
                      "*"
                    ],
                    "type": "AWS"
                  }
                ],
                "resources": [
                  "arn:aws:s3:::public-metis-static-content",
                  "arn:aws:s3:::public-metis-static-content/*"
                ],
                "sid": ""
              }
            ],
            "version": "2012-10-17"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_s3_bucket",
      "name": "metis_s3",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "acceleration_status": "",
            "acl": "private",
            "arn": "arn:aws:s3:::public-metis-static-content",
            "bucket": "public-metis-static-content",
            "bucket_domain_name": "public-metis-static-content.s3.amazonaws.com",
            "bucket_prefix": null,
            "bucket_regional_domain_name": "public-metis-static-content.s3.amazonaws.com",
            "cors_rule": [],
            "force_destroy": false,
            "grant": [],
            "hosted_zone_id": "Z3AQBSTGFYJSTF",
            "id": "public-metis-static-content",
            "lifecycle_rule": [],
            "logging": [],
            "object_lock_configuration": [],
            "policy": null,
            "region": "us-east-1",
            "replication_configuration": [],
            "request_payer": "BucketOwner",
            "server_side_encryption_configuration": [],
            "tags": {},
            "tags_all": {
              "App": "metis",
              "Environment": "prod"
            },
            "versioning": [
              {
                "enabled": false,
                "mfa_delete": false
              }
            ],
            "website": [],
            "website_domain": null,
            "website_endpoint": null
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_s3_bucket_policy",
      "name": "allow_internet_access",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "bucket": "public-metis-static-content",
            "id": "public-metis-static-content",
            "policy": "{\"Statement\":[{\"Action\":\"s3:GetObject\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"*\"},\"Resource\":[\"arn:aws:s3:::public-metis-static-content/*\",\"arn:aws:s3:::public-metis-static-content\"],\"Sid\":\"\"}],\"Version\":\"2012-10-17\"}"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_s3_bucket.metis_s3",
            "data.aws_iam_policy_document.allow_internet_access"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_s3_bucket_public_access_block",
      "name": "public_access_block",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "block_public_acls": false,
            "block_public_policy": false,
            "bucket": "public-metis-static-content",
            "id": "public-metis-static-content",
            "ignore_public_acls": false,
            "restrict_public_buckets": false
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_s3_bucket.metis_s3"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "heroku_addon",
      "name": "redis",
      "provider": "provider[\"registry.terraform.io/heroku/heroku\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "app": "metis-node-api",
            "config": null,
            "config_vars": [
              "HEROKU_REDIS_PINK_TLS_URL",
              "HEROKU_REDIS_PINK_URL",
              "REDIS_TLS_URL",
              "REDIS_URL"
            ],
            "id": "dc6e0ba8-ff01-4207-a630-e2f34b5b2c75",
            "name": "redis-flexible-28724",
            "plan": "heroku-redis:hobby-dev",
            "provider_id": "resource59166834@heroku.com"
          },
          "sensitive_attributes": [],
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "heroku_app.metis_api"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "heroku_addon_attachment",
      "name": "redis",
      "provider": "provider[\"registry.terraform.io/heroku/heroku\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "addon_id": "dc6e0ba8-ff01-4207-a630-e2f34b5b2c75",
            "app_id": "metis-node-api",
            "id": "739068e4-8f3e-435e-a18e-6c86491032a6",
            "name": "HEROKU_REDIS_PINK",
            "namespace": ""
          },
          "sensitive_attributes": [],
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "heroku_addon.redis",
            "heroku_app.metis_api"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "heroku_app",
      "name": "metis_api",
      "provider": "provider[\"registry.terraform.io/heroku/heroku\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "acm": false,
            "all_config_vars": {
              "HEROKU_REDIS_PINK_TLS_URL": "rediss://:p5f69d138dde19b1968eda34b05c63664debf6699436dbb8d268626f653c5c528@ec2-54-80-107-33.compute-1.amazonaws.com:8160",
              "HEROKU_REDIS_PINK_URL": "redis://:p5f69d138dde19b1968eda34b05c63664debf6699436dbb8d268626f653c5c528@ec2-54-80-107-33.compute-1.amazonaws.com:8159",
              "REDIS_TLS_URL": "rediss://:p5f69d138dde19b1968eda34b05c63664debf6699436dbb8d268626f653c5c528@ec2-54-80-107-33.compute-1.amazonaws.com:8160",
              "REDIS_URL": "redis://:p5f69d138dde19b1968eda34b05c63664debf6699436dbb8d268626f653c5c528@ec2-54-80-107-33.compute-1.amazonaws.com:8159"
            },
            "buildpacks": [],
            "config_vars": {},
            "git_url": "https://git.heroku.com/metis-node-api.git",
            "heroku_hostname": "metis-node-api.herokuapp.com",
            "id": "metis-node-api",
            "internal_routing": false,
            "name": "metis-node-api",
            "organization": [],
            "region": "us",
            "sensitive_config_vars": {},
            "space": null,
            "stack": "container",
            "uuid": "3afc2432-2f63-403f-9d0b-76999beced01",
            "web_url": "https://metis-node-api.herokuapp.com/"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    }
  ]
}
